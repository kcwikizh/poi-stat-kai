<% @map = {
    "11": [*1..3],
    "12": [*1..6],
    "13": [*1..13],
    "14": [*1..17],
    "15": [*1..12],
    "16": [*1..17],
    "21": [*1..11],
    "22": [*1..14],
    "23": [*1..20],
    "24": [*1..21],
    "25": [*1..20],
    "31": [*1..9],
    "32": [*1..15],
    "33": [*1..17],
    "34": [*1..24],
    "35": [*1..15],
    "41": [*1..13],
    "42": [*1..16],
    "43": [*1..22],
    "44": [*1..17],
    "45": [*1..32],
    "51": [*1..13],
    "52": [*1..21],
    "53": [*1..23],
    "54": [*1..22],
    "55": [*1..28],
    "61": [*1..13],
    "62": [*1..18],
    "63": [*1..12],
    "64": [*1..22],
    "65": [*1..19],
    "71": [*1..15],
    "72": [*1..16],
    "73": [*1..25],
    "521": [*1..22],
    "522": [*1..25],
    "523": [*1..49],
    "74": [*1..23],
    "531": [*1..45],
    "532": [*1..38],
    "533": [*1..38],
    "534": [*1..59],
    "535": [*1..53],
  } %>
# THIS FILE IS AUTO-GENERATED
class AddShipSnapshotToDropRecord < ActiveRecord::Migration[6.1]
  def up
<% for map in @map %><% for cell in @map[map[0]] %><% for rank in ["s", "a", "b", "c", "d", "e"] %><% for level in (map[0].to_s.to_i > 100 ? ["4", "3", "2", "1"] : ["0"]) %><% @suffix = "#{map[0].to_s.to_i * 1000 + cell}#{rank}#{level}" %>
    add_column :drop_record_<%= @suffix %>, :owned_ship, :jsonb, null: true
<% end %><% end %><% end %><% end %>
  end

  def down
<% for map in @map %><% for cell in @map[map[0]] %><% for rank in ["s", "a", "b", "c", "d", "e"] %><% for level in (map[0].to_s.to_i > 100 ? ["4", "3", "2", "1"] : ["0"]) %><% @suffix = "#{map[0].to_s.to_i * 1000 + cell}#{rank}#{level}" %>
    remove_column :drop_record_<%= @suffix %>, :owned_ship
<% end %><% end %><% end %><% end %>
  end
end
