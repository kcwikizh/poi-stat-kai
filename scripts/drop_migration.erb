<% @map = {
    # "11": [*1..3],
    # "12": [*1..6],
    # "13": [*1..13],
    # "14": [*1..17],
    # "15": [*1..12],
    # "16": [*1..17],
    # "21": [*1..11],
    # "22": [*1..14],
    # "23": [*1..20],
    # "24": [*1..21],
    # "25": [*1..20],
    # "31": [*1..9],
    # "32": [*1..15],
    # "33": [*1..17],
    # "34": [*1..24],
    # "35": [*1..15],
    # "41": [*1..13],
    # "42": [*1..16],
    # "43": [*1..22],
    # "44": [*1..17],
    # "45": [*1..32],
    # "51": [*1..13],
    # "52": [*1..21],
    # "53": [*1..23],
    # "54": [*1..22],
    # "55": [*1..28],
    # "61": [*1..13],
    # "62": [*1..18],
    # "63": [*1..12],
    # "64": [*1..22],
    # "65": [*1..19],
    # "71": [*1..15],
    # "72": [*1..16],
    # "73": [*1..25],
    # "521": [*1..22],
    # "522": [*1..25],
    # "523": [*1..49],
    # "74": [*1..23],
    # "531": [*1..45],
    # "532": [*1..38],
    # "533": [*1..38],
    # "534": [*1..59],
    # "535": [*1..53],
    # "541": [*1..24],
    # "542": [*1..40],
    # "543": [*1..43],
    # "544": [*1..43],
    # "545": [*1..86],
    # "551": [*1..26],
    # "552": [*1..32],
    # "553": [*1..42],
    # "554": [*1..41],
    # "555": [*1..36],
    # "556": [*1..45],
    "75": [*1..25],
  } %>
# THIS FILE IS AUTO-GENERATED
class CreateDropRecordMap75 < ActiveRecord::Migration[6.1]
  def up
<% for map in @map %><% for cell in @map[map[0]] %><% for rank in ["s", "a", "b", "c", "d", "e"] %><% for level in (map[0].to_s.to_i > 100 ? ["4", "3", "2", "1"] : ["0"]) %><% @suffix = "#{map[0].to_s.to_i * 1000 + cell}#{rank}#{level}" %>
    create_table :drop_record_<%= @suffix %> do |t|
      t.integer :ship,      null: false, limit: 2
      t.integer :item,      null: true, limit: 2
      t.integer :enemy,     null: false
      t.integer :reporter,  null: false
      t.integer :hq_lv,     null: false, limit: 2
      t.integer :own_count, null: true, array: true, limit: 2
      t.column  :time, :datetime
      t.column  :owned_ship, :jsonb, null: true
    end
    add_index :drop_record_<%= @suffix %>, :ship
    add_index :drop_record_<%= @suffix %>, :time
<% end %><% end %><% end %><% end %>
  end

  def down
<% for map in @map %><% for cell in @map[map[0]] %><% for rank in ["s", "a", "b", "c", "d", "e"] %><% for level in (map[0].to_s.to_i > 100 ? ["4", "3", "2", "1"] : ["0"]) %><% @suffix = "#{map[0].to_s.to_i * 1000 + cell}#{rank}#{level}" %>
    drop_table :drop_record_<%= @suffix %>
<% end %><% end %><% end %><% end %>
  end
end
